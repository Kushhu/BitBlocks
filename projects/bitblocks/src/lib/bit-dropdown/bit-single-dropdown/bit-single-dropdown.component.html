<div class="bit-dropdown-wrapper" #wrapper>

    <div class="bit-textbox bit-selected" tabindex="0" [style.minHeight]="'calc( 13px + 1.5rem * '+ minHeight() + ')' "
        [class.bit-input-valid]="valid === true" [class.bit-input-invalid]="valid === false" (click)="openDrop()"
        (focus)="openDrop()">

        @if (isLoading()) { Loading... }

        @else if (valid === false && value !== null) { Invalid Option : {{ value }} }

        @else if (placeholder() && !selectedOption) { {{placeholder()}} }

        @else {
        <div [innerHTML]="selectedOption?.nativeElement?.innerHTML | safe: 'html'"> </div>
        }

    </div>

    @if (isOpen) {
    <div class="bit-option-list">
        <input #searchEle type="text" [placeholder]="searchPlaceholder()" class="bit-textbox" autocomplete="off"
            [(ngModel)]="search" (input)="onInput(searchEle)" (blur)="onTouched()" (focus)="openDrop()"
            (keydown.tab)="closeDrop()" inputmode="none" (click)="searchEle.inputMode = ''"
            [hidden]="!isSearchable() || !isOpen">

        @if (noSearchAvailable) { <p class="bit-empty-option"> ðŸ˜’ No Matches </p> }

        @if (isLoading()) { <p class="bit-empty-option"> Loading... </p> }

        <ng-content select="bit-option"></ng-content>
    </div>
    }
</div>
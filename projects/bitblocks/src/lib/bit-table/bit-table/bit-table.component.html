@if (view == 'table' || view == 'both' || view=='default' ) {
<div class="table-wrapper">
    <table>
        <thead>
            <tr>
                <ng-container
                    *ngTemplateOutlet="headers || defaultHeaders; context: { $implicit: data }"></ng-container>
            </tr>
        </thead>

        <tbody>
            @for (row of data(); track row) {
            <tr>
                <ng-container *ngTemplateOutlet="rows || defaultRow; context: { $implicit: row }"></ng-container>
            </tr>
            }

            @for (row of contentRows; track $index) {
            <tr>
                @for (cell of row | keyvalue : originalOrder; track $index) {
                    <td> {{cell.value}} </td>
                }
            </tr>
            }
        </tbody>
    </table>
</div>
}

@if (view == 'cards' || view == 'both' ) {
<div class="card-wrapper">
    @for (row of data(); track row) {
    <ng-container *ngTemplateOutlet="cards || defaultCard; context: { $implicit: row }"></ng-container>
    }
</div>
}

@if (showTotalRecords) {
<div class="table-footer">
    {{ data()?.length }}
    Records
</div>
}



<ng-template #defaultHeaders let-data>
    @if (columns?.length) {
        @for (column of columns; track columns) {
            <th [class.resizable]="resizableColumns">{{column}}</th>
        }
    }
    @else {
        @for (header of data()[0] | keyvalue : originalOrder; track header;) {
            <th [class.resizable]="resizableColumns">{{ header.key }}</th>
        }
    }
</ng-template>

<ng-template #defaultRow let-row>
    @if (columns?.length) {
        @for (column of columns; track columns) {
            <td>
                <div class="bit-table-cell-overflow-3">{{ row[column] ?? "" }}</div>
            </td>
        }
    }
    @else {
        @for (item of row | keyvalue : originalOrder; track item;) {
            <td>
                <div class="bit-table-cell-overflow-3">{{ item.value }}</div>
            </td>
        }
    }
</ng-template>

<ng-template #defaultCard let-row>
    <div class="bit-table-card">
        @for (item of row | keyvalue; track item;) {
            <p>
                <label>{{item.key}} </label> <br> {{ item.value }}
            </p>
        }
    </div>
</ng-template>
@if (view == 'table' || view == 'both' || view=='default' ) {
<div class="table-wrapper">
    <table>
        <thead>
            <tr>
                <ng-container
                    *ngTemplateOutlet="headers || defaultHeaders; context: { $implicit: data }"></ng-container>
            </tr>
        </thead>

        <tbody>
            @for (row of data(); track row) {
            <tr>
                <ng-container *ngTemplateOutlet="rows || defaultRow; context: { $implicit: row }"></ng-container>
            </tr>
            }
        </tbody>
    </table>
</div>
}

@if (view == 'cards' || view == 'both' ) {
<div class="card-wrapper">
    @for (row of data(); track row) {
    <ng-container *ngTemplateOutlet="cards || defaultCard; context: { $implicit: row }"></ng-container>
    }
</div>
}

<div class="table-footer">
    @if (showTotalRecords) {
    {{ data()?.length }}
    Records
    }
</div>



<ng-template #defaultHeaders let-data>
    @for (header of data()[0] | keyvalue; track header;) {
    <th>{{ header.key }}</th>
    }
</ng-template>

<ng-template #defaultRow let-row>
    @for (item of row | keyvalue; track item;) {
    <td>
        <div class="bit-table-cell">{{ item.value ?? "" }}</div>
    </td>
    }
</ng-template>

<ng-template #defaultCard let-row>
    <div class="bit-table-card">
        @for (item of row | keyvalue; track item;) {
        <p>
            <label>{{item.key}} </label> <br>
            {{ item.value }}
        </p>
        }
    </div>
</ng-template>